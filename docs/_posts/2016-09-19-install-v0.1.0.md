---
layout: post
title:  "How to install Belladonna-reader v0.1.0"
date:   2016-09-19
---

## Warning

**This application is a *pre-version*. It is *unstable* and might wreck havoc on your device and in your Wallabag instance! Use at your own perils!**

Known limitations of this v0.1.0 version:

 * Only tested on Pocketbook Touch Lux 3 "TEA" with a 5.14 firmware
 * It will not work on a 4.x firmware
 * It only supports Wallabag 2.x (which means it doesn't work with *Framabag*) and has only been tested with Wallabag 2.0.6 and 2.0.8
 * At first launch, when no sync has been ever done, the screen is a bit empty.
 * Not much help included.
 * Far from perfect UI.
 * Only reads HTML content of the entries -- which means no images (they are remote and not fetched) and some encoding problems for special characters.
 * Much code-rework is needed.

This is a **private beta version**, to collect useful feedback from implicated power-users, before doing any public release of this application. Please note v0.2.0 should be a *public beta*, even if still directed to power-users (able to create a JSON config file, for instance).


## Features

### Implemented

Here's a quick short list of features that are currently implemented and should work in this v0.1.0 release:

 * Fetching the 200 most recent entries from the server and synchronizing them to the ereader.
 * Marking an entry as *archived* or *starred* on the ereader.
 * Synchronizing this change to the server.
 * Works offline and only accesses the network when you touch the *sync* button (reactivating wifi if need be).
 * Three distinct lists: unread, archived, starred; and *menu* button to switch between lists.
 * Uses the internal ereader's reading application to open contents, which means you have all the usual *reading* features and options.
 * Logs to `belladonna-log.html` at the root the device; which means this log can be read from the library and you can get it via USB.


### Not implemented, but planned

Many things are not implemented yet, but are planned for (several) future versions. Most of them are tracked as [issues on github](https://github.com/pmartin/belladonna/issues).


## Installing and configuring the application

### Send the application to the device

After connecting the ereader to your computer with an USB cable, you must send the `belladonna.app` file to the ereader, in `/applications/` :

![The 'application' directory](/images/v0.1.0/directory-application.png)

It will then be visible in the applications drawer of the ereader.


### Configuation file

You must create a JSON file, called `config.json`, from the following template:

```json
{
    "url": "YOUR WALLABAG INSTANCE URL",
    "client_id": "CLIENT_ID GENERATED BY WALLABAG",
    "secret_key": "SECRET KEY GENERATED BY WALLABAG",
    "login": "YOUR LOGIN",
    "password": "YOUR PASSWORD"
}
```

If your Wallabag instance is protected by HTTP-Basic, you can use the following template (but take a look at [this wallabag issue](https://github.com/wallabag/wallabag/issues/2278)):

```json
{
    "url": "YOUR WALLABAG INSTANCE URL",
    "http_login": "HTTP-BASIC LOGIN",
    "http_password": "HTTP-BASIC PASSWORD",
    "client_id": "CLIENT_ID GENERATED BY WALLABAG",
    "secret_key": "SECRET KEY GENERATED BY WALLABAG",
    "login": "YOUR LOGIN",
    "password": "YOUR PASSWORD"
}
```

After connecting your ereader to your computer with an USB cable, you must send this `config.json` file to the ereader, in `/system/share/belladonna` (you might have to create that last directory):

![The 'application' directory](/images/v0.1.0/directory-system-share.png)
